{% extends "index.html" %}
{% block content %}
<div style="display:flex; flex-direction:row; justify-content:center; margin-bottom:20px; width:100%;">
    <div style="text-align:center; width:100%;">
        <h1 style="margin-bottom:0.2em; color:#f5f5f5; font-size:3em;">Dug Hill Rod & Gun Club</h1>
        <h1 style="margin-top:0.2em; color:#f5f5f5; font-size:3em;">Membership Database</h1>
    
        <h1 style="font-size:2.2em; margin-bottom:0.2em; margin-top:0; text-align:center; color:#f5f5f5; text-decoration:underline;">Committees</h1>
    </div>
</div>
<div style="width:100%; max-width:800px; margin:0 auto;">
    <form method="get" style="margin-bottom:2em;">
    <div style="display:flex; justify-content:center; align-items:center; gap:12px; width:100%; text-align:center;">
            <label for="committee-select" style="font-size:1.1em; color:#f5f5f5;">Select Committee:</label>
            <select id="committee-select" name="committee" style="font-size:1.1em; padding:6px 18px; border-radius:6px; border:1px solid #384839;" onchange="this.form.submit()">
                <option value="">-- Choose Committee --</option>
                <option value="committee_chairs" {% if 'committee_chairs' == request.args.get('committee') %}selected{% endif %}>Committee Chairs</option>
                {% for cname in committee_names %}
                    <option value="{{ cname }}" {% if cname == request.args.get('committee') %}selected{% endif %}>{{ committee_display_names[cname] }}</option>
                {% endfor %}
            </select>
        </div>
    </form>
    <!-- Add your committee table and logic here, outside the select/option block -->
    <!-- Example placeholder for committee table rendering -->
    {# Add your committee table rendering logic here, outside the select/option block #}
        <!-- End placeholder -->
    </div>
    <script>
    // Sortable table columns with arrow indicators
    function sortTable(n) {
        var table = document.getElementById("committee-table");
        var rows = Array.from(table.rows).slice(1); // skip header
        var asc = table.getAttribute('data-sort-col') == n && table.getAttribute('data-sort-dir') == 'asc' ? false : true;
        rows.sort(function(a, b) {
            var x = a.cells[n].innerText.toLowerCase();
            var y = b.cells[n].innerText.toLowerCase();
            if (!isNaN(x) && !isNaN(y)) {
                x = parseFloat(x); y = parseFloat(y);
            }
            if (x < y) return asc ? -1 : 1;
            if (x > y) return asc ? 1 : -1;
        });
        rows.forEach(function(row) { table.tBodies[0].appendChild(row); });
    }
    </script>
{% endblock %}
            if (x < y) return asc ? -1 : 1;
